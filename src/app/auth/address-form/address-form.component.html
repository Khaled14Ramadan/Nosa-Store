<div [formGroup]="formAddress">
  <ng-container formArrayName="address">
    <ng-container *ngFor="let addressForm of address.controls; let index = index">
      <div class="d-flex flex-wrap justify-content-between align-items-center" [formGroupName]="index">
        
        <!-- the input address -->
        <div class="address mb-3">
          <label for="address" class="form-label">Address</label>
          <input type="text" class="form-control" id="address" formControlName="addressName" name="address">
          <!-- this for validation -->
          <div *ngIf="addressForm.get('addressName')?.touched && ! addressForm?.get('addressName')?.valid">
            <div class="form-text text-danger"
              *ngIf="addressForm?.get('addressName')?.errors && addressForm?.get('addressName')?.hasError('required')">
              address is Required.
            </div>
            <div class="form-text text-danger"
              *ngIf="addressForm?.get('addressName')?.errors && addressForm?.get('addressName')?.hasError('pattern')">
              address is invalid.
            </div>
          </div>
        </div>
      
        <!-- the input street -->
        <div class="address mb-3">
          <label for="street" class="form-label">Street</label>
          <input type="text" class="form-control" id="street" formControlName="street" name="street">
           <!-- this for validation -->
           <div *ngIf="addressForm?.get('street')?.touched && ! addressForm?.get('street')?.valid">
            <div  class="form-text text-danger"
              *ngIf="addressForm?.get('street')?.errors && addressForm?.get('street')?.hasError('required')">
              street is Required.
            </div>
            <div class="form-text text-danger"
              *ngIf="addressForm?.get('street')?.errors && addressForm?.get('street')?.hasError('pattern')">
              street is invalid.
            </div>
          </div>
        </div>

        <!-- the input country -->
        <div class="address mb-3 ">
          <label for="country" class="form-label">Country</label>
          <input type="text" class="form-control" id="country" formControlName="country" name="country">
          <!-- this for validation -->
          <div *ngIf="addressForm?.get('country')?.touched && ! addressForm?.get('country')?.valid">
            <div  class="form-text text-danger"
              *ngIf="addressForm?.get('country')?.errors && addressForm?.get('country')?.hasError('required')">
              country is Required.
            </div>
            <div class="form-text text-danger"
              *ngIf="addressForm?.get('country')?.errors && addressForm?.get('country')?.hasError('pattern')">
              country is invalid.
            </div>
          </div>
        </div>

        <!-- the input City -->
        <div class="address mb-3 ">
          <label for="city" class="form-label">City</label>
          <input type="text" class="form-control" id="city" formControlName="city" name="city">
          <!-- this for validation -->
          <div *ngIf="addressForm?.get('city')?.touched && ! addressForm?.get('city')?.valid">
            <div  class="form-text text-danger"
              *ngIf="addressForm?.get('city')?.errors && addressForm?.get('city')?.hasError('required')">
              city is Required.
            </div>
            <div class="form-text text-danger"
              *ngIf="addressForm?.get('city')?.errors && addressForm?.get('city')?.hasError('pattern')">
              city is invalid.
            </div>
          </div>
        </div>

        <button class="w-50 btn btn-danger  h-50" (click)="deleteForm(index)">Delete</button>
      </div>
    </ng-container>
  </ng-container>

  <button class="btn btn-primary w-100" [disabled]="formAddress.invalid" (click)="addAddress()">Add Address</button>

</div>